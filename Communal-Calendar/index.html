<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="base.css" />
    <!-- https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP -->
    <meta http-equiv="Content-Security-Policy"
      content="default-src 'self'; script-src 'self'; img-src 'self' data:;">

    />
    <meta
      http-equiv="X-Content-Security-Policy"
      content="default-src 'self'; script-src 'self'"
    />
    <title>Communal Calendar</title>
  </head>
  <body>
    <!-- ========== NAV BAR - UPDATED LAYOUT ========== -->
    <div class="nav-bar">
      <!-- SIGN IN / PROFILE SECTION -->
      <!-- ðŸ”„ UPDATED: This div gets dynamically updated by JavaScript:
           - Shows "Sign In" button when logged out
           - Shows profile icon + username when logged in  
           - Profile dropdown appears on click with Change Picture & Sign Out options -->
      <div class="signInButton">
        <button>Sign In</button>
      </div>

      <!-- KEPT: Empty nav buttons for future functionality -->
      <!-- These can be implemented later for friends, filtering, and events features -->
      <div class="nav-button" id="friends-button"></div>
      <div class="nav-button" id="filter-button"></div>
      <div class="nav-button" id="events-button"></div>

      <!-- FILTER DROPDOWN -->
      <!-- âœ… Currently the only functional nav element besides sign-in/profile -->
      <!-- Shows category checkboxes on hover -->
      <div class="filterDropdown">
        <button>Filter</button>
        <div class="filterMenuStuff">
          <label><input type="checkbox" class="category1" />Cat1</label>
          <label><input type="checkbox" class="category2" />Cat2</label>
          <label><input type="checkbox" class="category3" />Cat3</label>
        </div>
      </div>
    </div>

    <!-- ========== SIGN IN POPUP MODAL ========== -->
    <!-- Overlay that covers entire screen when sign-in is clicked -->
    <!-- â— Initially hidden (display: none) - shown via JavaScript -->
    <div class="signInPopUpOverlay">
      <div class="signInPopUp">
        <!-- Close button (X) in top-right corner -->
        <span class="closeSignInPopUp">&times;</span>
        <div class="signInPopUpContent">
          <p>Sign In</p>
          <!-- Username input field -->
          <input type="text" placeholder="Username" id="userNameInput" />
          <!-- Password input field -->
          <input type="password" placeholder="Password" id="passwordInput" />
          <!-- Submit button - triggers authentication in JavaScript -->
          <input type="submit" id="signInSubmit" />
        </div>
      </div>
    </div>

    <!-- ========== MAIN CALENDAR AREA ========== -->
    <div class="main">
      <div class="calendar-container">
        <div class="calendar">
          <div class="calendar-section">
            <div class="calendar-box" id="calendarBox">
              <!-- ðŸ”„ DYNAMIC: Calendar grid populated by render.js -->
              <!-- Shows days of week and time slots for events -->
              <div class="calendar-grid" id="calendarGrid"></div>
            </div>
          </div>

          <!-- COMMENTED OUT: Example category boxes for reference -->
          <!---- <div class="School testBox">1</div>
          <div class="Work testBox">1</div>
          <div class="Family testBox">1</div>--->
        </div>
      </div>

      <!-- ========== EVENT CREATION FORM ========== -->
      <search class="bottom-section">
        <!-- ðŸ“ Form for creating new calendar events -->
        <!-- Submitted data is processed by render.js formSubmit() function -->
        <form class="search-container" id="get-calendar-data">
          
          <!-- EVENT BASIC INFO SECTION -->
          <div class="search-section">
            <div class="search-item">
              <label for="Event">Event: </label>
              <input
                name="Event"
                id="Event"
                type="text"
                placeholder="Enter Event Name Here"
              />
            </div>

            <div class="search-item">
              <label for="Start-Date">Start Date: </label>
              <input name="Start-Date" id="Start-Date" type="date" />
            </div>

            <div class="search-item">
              <label for="Start-Time">Start Time: </label>
              <input name="Start-Time" id="Start-Time" type="time" />
            </div>

            <div class="search-item">
              <label for="End-Time">End Time: </label>
              <input name="End-Time" id="End-Time" type="time" />
            </div>

            <div class="search-item">
              <label for="End-Date">Final Repeat: </label>
              <input name="End-Date" id="End-Date" type="date" />
            </div>
          </div>

          <!-- PRIVACY & REPEAT SETTINGS SECTION -->
          <div class="search-section">
            <div class="search-item"><label>Privacy:</label></div>

            <div class="search-item">
              <input
                type="radio"
                name="Privacy"
                id="Privacy-Public"
                checked
              />
              <label for="Privacy-Friends">Friends</label>
            </div>

            <div class="search-item">
              <input type="radio" name="Privacy" id="Privacy-Favorite" />
              <label for="Privacy-Favorite">Favorites Only</label>
            </div>

            <div class="search-item">
              <input type="radio" name="Privacy" id="Privacy-Private" />
              <label for="Privacy-Private">Private</label>
            </div>

            <div class="search-item">
              <label for="Repeat">Repeat Frequency</label>
            </div>

            <div class="search-item">
              <select name="Repeat" id="Repeat">
                <option value="One-Time">One-Time</option>
                <option value="Daily">Daily</option>
                <option value="Weekly">Weekly</option>
                <option value="Biweekly">Biweekly</option>
                <option value="Monthly">Monthly</option>
                <option value="Bimonthly">Bimonthly</option>
                <option value="Biannualy">Biannualy</option>
                <option value="Annualy">Annualy</option>
              </select>
            </div>
          </div>

          <!-- FRIENDS INVITATION SECTION -->
          <div class="search-section">
            <div class="search-item">
              <input
                type="text"
                name="Search-Friends"
                id="Search-Friends"
                placeholder="Include friends"
              />
            </div>

            <div class="search-item">
              <!-- Scrollable friends list for event invitations -->
              <div class="search-friends-section">
                <div class="search-section">
                  <input type="checkbox" name="Friend" id="friend1" />
                  <label for="friend1">Friend 1</label>
                </div>
                <div class="search-section">
                  <input type="checkbox" name="Friend" id="friend2" />
                  <label for="friend2">Friend 2</label>
                </div>
                <div class="search-section">
                  <input type="checkbox" name="Friend" id="friend3" />
                  <label for="friend3">Friend 3</label>
                </div>
                <div class="search-section">
                  <input type="checkbox" name="Friend" id="friend4" />
                  <label for="friend4">Friend 4</label>
                </div>
                <div class="search-section">
                  <input type="checkbox" name="Friend" id="friend5" />
                  <label for="friend5">Friend 5</label>
                </div>
                <div class="search-section">
                  <input type="checkbox" name="Friend" id="friend6" />
                  <label for="friend6">Friend 6</label>
                </div>
                <div class="search-section">
                  <input type="checkbox" name="Friend" id="friend7" />
                  <label for="friend7">Friend 7</label>
                </div>
                <div class="search-section">
                  <input type="checkbox" name="Friend" id="friend8" />
                  <label for="friend8">Friend 8</label>
                </div>
              </div>
            </div>
          </div>

          <!-- FORM SUBMISSION -->
          <div class="search-section">
            <input class="text-center" type="submit" value="submit" />
          </div>
        </form>
      </search>
    </div>

    <!-- ========== RIGHT SIDEBAR ========== -->
    <div class="right-section">
      <div class="box" id="box3">
        <!-- TODAY'S EVENTS BOX -->
        <div class="box" id="today-box">
          <h3>Next Event Today</h3>
          <!-- ðŸ”„ DYNAMIC: Populated with today's events by JavaScript -->
          <div id="today-event" aria-live="polite">Loadingâ€¦</div>
        </div>
      </div>
    </div>

    <!-- ========== UPCOMING EVENTS SECTION ========== -->
    <section id="upcoming-events">
      <h2>Upcoming Events</h2>
      <!-- Search bar for filtering upcoming events -->
      <input
        id="events-search"
        type="search"
        placeholder="Search by title, date, time..."
        aria-label="Search events"
      />
      <!-- ðŸ”„ DYNAMIC: Container for upcoming events list -->
      <div id="events-root" aria-live="polite"></div>
    </section>

    <!-- ========== JAVASCRIPT FILES ========== -->
    <!-- ðŸ“„ render.js - Handles calendar rendering, event creation, and form submission -->
    <script src="render.js"></script>
    
    <!-- ðŸ“„ signInPopUp.js - NEW: Handles authentication, profile management, and image uploads -->
    <!-- ðŸ”„ UPDATED: Now includes profile icon functionality and image file selection -->
    <script src="signInPopUp.js"></script>
  </body>
</html>